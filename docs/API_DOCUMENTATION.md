# توثيق API - بوت تيليجرام تيكنو

## 📋 نظرة عامة

يوفر بوت تيكنو واجهة برمجة تطبيقات شاملة للتفاعل مع جميع وظائفه. هذا التوثيق يغطي جميع الأوامر والوظائف المتاحة.

## 🔧 الأوامر الأساسية

### أوامر المستخدمين العاديين

#### `/start`
**الوصف:** بدء البوت وعرض رسالة الترحيب

**الاستخدام:**
```
/start
```

**الاستجابة:**
- رسالة ترحيب مع معلومات البوت
- أزرار تفاعلية للوصول السريع
- في المحادثة الخاصة: دليل الاستخدام
- في المجموعة: إعداد سريع

---

#### `/help`
**الوصف:** عرض قائمة الأوامر والمساعدة

**الاستخدام:**
```
/help
```

**الاستجابة:**
- قائمة الأوامر المتاحة حسب صلاحيات المستخدم
- روابط للوثائق والدعم
- أزرار تفاعلية للوصول للميزات

---

#### `/info`
**الوصف:** عرض معلومات البوت والإحصائيات العامة

**الاستخدام:**
```
/info
```

**الاستجابة:**
```
🤖 معلومات البوت:
• الاسم: تيكنو
• الإصدار: 1.0.0
• وقت التشغيل: 5 أيام، 3 ساعات
• المجموعات المدارة: 150
• إجمالي المستخدمين: 5,230
```

---

#### `/stats`
**الوصف:** عرض إحصائيات المجموعة الحالية

**الاستخدام:**
```
/stats
```

**المتطلبات:** يعمل في المجموعات فقط

**الاستجابة:**
```
📊 إحصائيات المجموعة:
👥 الأعضاء: 245
💬 الرسائل اليوم: 1,234
📈 النشاط: 85%
🏆 أنشط عضو: @username
```

---

#### `/rules`
**الوصف:** عرض قواعد المجموعة

**الاستخدام:**
```
/rules
```

**الاستجابة:** قواعد المجموعة المخصصة أو القواعد الافتراضية

---

#### `/ask [سؤال]`
**الوصف:** طرح سؤال للذكاء الاصطناعي

**الاستخدام:**
```
/ask ما هي أفضل طريقة لتعلم البرمجة؟
```

**المعاملات:**
- `سؤال` (مطلوب): السؤال المراد طرحه

**الاستجابة:**
```
🤖 الجواب:
أفضل طريقة لتعلم البرمجة تتضمن:
1. اختيار لغة برمجة مناسبة للمبتدئين
2. الممارسة اليومية
3. بناء مشاريع عملية
...
```

---

#### `/translate [نص]`
**الوصف:** ترجمة نص باستخدام الذكاء الاصطناعي

**الاستخدام:**
```
/translate Hello, how are you?
```

**المعاملات:**
- `نص` (مطلوب): النص المراد ترجمته

---

#### `/report [سبب]`
**الوصف:** الإبلاغ عن مشكلة أو مخالفة

**الاستخدام:**
```
/report سبام في المجموعة
```

**المعاملات:**
- `سبب` (اختياري): سبب الإبلاغ

## 👑 أوامر المشرفين

### إدارة الأعضاء

#### `/ban [معرف/رد] [مدة] [سبب]`
**الوصف:** حظر عضو من المجموعة

**الاستخدام:**
```
/ban @username 60 سبام
/ban 123456789 سلوك غير مناسب
```

**المعاملات:**
- `معرف/رد` (مطلوب): معرف المستخدم أو الرد على رسالته
- `مدة` (اختياري): مدة الحظر بالدقائق
- `سبب` (اختياري): سبب الحظر

**الاستجابة:**
```
✅ تم حظر المستخدم @username
📝 السبب: سبام
⏰ المدة: 60 دقيقة
👤 بواسطة: @admin_username
```

---

#### `/unban [معرف]`
**الوصف:** إلغاء حظر عضو

**الاستخدام:**
```
/unban @username
/unban 123456789
```

**المعاملات:**
- `معرف` (مطلوب): معرف المستخدم

---

#### `/mute [معرف/رد] [مدة]`
**الوصف:** كتم عضو (منعه من إرسال الرسائل)

**الاستخدام:**
```
/mute @username 30
```

**المعاملات:**
- `معرف/رد` (مطلوب): معرف المستخدم أو الرد على رسالته
- `مدة` (اختياري): مدة الكتم بالدقائق

---

#### `/unmute [معرف/رد]`
**الوصف:** إلغاء كتم عضو

**الاستخدام:**
```
/unmute @username
```

---

#### `/warn [معرف/رد] [سبب]`
**الوصف:** إعطاء تحذير لعضو

**الاستخدام:**
```
/warn @username مخالفة القواعد
```

**المعاملات:**
- `معرف/رد` (مطلوب): معرف المستخدم أو الرد على رسالته
- `سبب` (اختياري): سبب التحذير

---

#### `/kick [معرف/رد] [سبب]`
**الوصف:** طرد عضو من المجموعة

**الاستخدام:**
```
/kick @username سلوك غير مناسب
```

---

#### `/promote [معرف/رد] [لقب]`
**الوصف:** ترقية عضو إلى مشرف

**الاستخدام:**
```
/promote @username مساعد مشرف
```

**المعاملات:**
- `معرف/رد` (مطلوب): معرف المستخدم
- `لقب` (اختياري): لقب المشرف الجديد

---

#### `/demote [معرف/رد]`
**الوصف:** تخفيض رتبة مشرف إلى عضو عادي

**الاستخدام:**
```
/demote @username
```

### إدارة المحتوى

#### `/purge [عدد]`
**الوصف:** حذف عدد معين من الرسائل

**الاستخدام:**
```
/purge 10
```

**المعاملات:**
- `عدد` (مطلوب): عدد الرسائل المراد حذفها (1-100)

---

#### `/lock [نوع]`
**الوصف:** قفل نوع معين من المحتوى

**الاستخدام:**
```
/lock media
/lock links
/lock stickers
```

**الأنواع المتاحة:**
- `media` - الوسائط (صور، فيديو، صوت)
- `links` - الروابط
- `stickers` - الملصقات
- `voice` - الرسائل الصوتية
- `documents` - المستندات
- `polls` - الاستبيانات

---

#### `/unlock [نوع]`
**الوصف:** إلغاء قفل نوع معين من المحتوى

**الاستخدام:**
```
/unlock media
```

---

#### `/addword [كلمة]`
**الوصف:** إضافة كلمة إلى قائمة الكلمات المحظورة

**الاستخدام:**
```
/addword كلمة_محظورة
```

**المعاملات:**
- `كلمة` (مطلوب): الكلمة أو العبارة المراد حظرها

---

#### `/delword [كلمة]`
**الوصف:** حذف كلمة من قائمة الكلمات المحظورة

**الاستخدام:**
```
/delword كلمة_محظورة
```

---

#### `/filter [كلمة] [رد]`
**الوصف:** إضافة مرشح تلقائي

**الاستخدام:**
```
/filter مرحبا مرحباً بك في المجموعة!
```

**المعاملات:**
- `كلمة` (مطلوب): الكلمة المحفزة
- `رد` (مطلوب): الرد التلقائي

---

#### `/unfilter [كلمة]`
**الوصف:** حذف مرشح تلقائي

**الاستخدام:**
```
/unfilter مرحبا
```

### إعداد المجموعة

#### `/setup`
**الوصف:** بدء معالج إعداد البوت في المجموعة

**الاستخدام:**
```
/setup
```

**الاستجابة:** واجهة تفاعلية لإعداد:
- إعدادات الحماية
- رسائل الترحيب
- قواعد المجموعة
- ميزات الذكاء الاصطناعي

---

#### `/settings`
**الوصف:** فتح لوحة إعدادات المجموعة

**الاستخدام:**
```
/settings
```

**الاستجابة:** لوحة تحكم تفاعلية مع أقسام:
- إدارة الأعضاء
- إعدادات الحماية
- الذكاء الاصطناعي
- المحتوى والرسائل

---

#### `/welcome [رسالة]`
**الوصف:** تعديل رسالة الترحيب

**الاستخدام:**
```
/welcome مرحباً {name} في {chat}! يرجى قراءة القواعد.
```

**المتغيرات المتاحة:**
- `{name}` - اسم العضو الجديد
- `{username}` - معرف العضو
- `{chat}` - اسم المجموعة
- `{count}` - عدد الأعضاء

---

#### `/setrules [قواعد]`
**الوصف:** تعديل قواعد المجموعة

**الاستخدام:**
```
/setrules 
1. احترام جميع الأعضاء
2. عدم إرسال سبام
3. عدم مشاركة محتوى غير مناسب
```

## 🤖 أوامر الذكاء الاصطناعي

#### `/summarize [عدد]`
**الوصف:** تلخيص المحادثة الحديثة

**الاستخدام:**
```
/summarize 50
```

**المعاملات:**
- `عدد` (اختياري): عدد الرسائل المراد تلخيصها (افتراضي: 20)

---

#### `/sentiment [نص]`
**الوصف:** تحليل المشاعر في النص

**الاستخدام:**
```
/sentiment أنا سعيد جداً اليوم!
```

**الاستجابة:**
```
😊 تحليل المشاعر:
• المشاعر: إيجابية
• الدرجة: 85%
• الكلمات المفتاحية: سعيد، جداً
```

---

#### `/suggest [موضوع]`
**الوصف:** اقتراح محتوى حول موضوع معين

**الاستخدام:**
```
/suggest أفكار لتطوير المجموعة
```

---

#### `/resolve [وصف النزاع]`
**الوصف:** المساعدة في حل النزاعات

**الاستخدام:**
```
/resolve خلاف حول موضوع سياسي
```

## ⚡ الميزات المتقدمة

### الرسائل المجدولة

#### `/schedule [وقت] [رسالة]`
**الوصف:** جدولة رسالة للإرسال في وقت محدد

**الاستخدام:**
```
/schedule 2024-01-01 09:00 كل عام وأنتم بخير!
/schedule +30m تذكير: اجتماع المجموعة بعد 30 دقيقة
```

**تنسيقات الوقت:**
- `YYYY-MM-DD HH:MM` - تاريخ ووقت محدد
- `+Xm` - بعد X دقيقة
- `+Xh` - بعد X ساعة
- `+Xd` - بعد X يوم

### الاستبيانات والاختبارات

#### `/poll [سؤال] [خيار1] [خيار2] ...`
**الوصف:** إنشاء استبيان

**الاستخدام:**
```
/poll "ما هو لونك المفضل؟" "أحمر" "أزرق" "أخضر"
```

---

#### `/quiz [سؤال] [إجابة صحيحة] [خيارات أخرى]`
**الوصف:** إنشاء اختبار مع إجابة صحيحة

**الاستخدام:**
```
/quiz "عاصمة فرنسا؟" "باريس" "لندن" "برلين" "روما"
```

### الملاحظات

#### `/note [اسم] [محتوى]`
**الوصف:** حفظ ملاحظة

**الاستخدام:**
```
/note قواعد_المجموعة يرجى احترام جميع الأعضاء وعدم إرسال سبام
```

---

#### `/getnote [اسم]`
**الوصف:** استرجاع ملاحظة محفوظة

**الاستخدام:**
```
/getnote قواعد_المجموعة
```

---

#### `/notes`
**الوصف:** عرض قائمة الملاحظات المحفوظة

**الاستخدام:**
```
/notes
```

### الأوامر المخصصة

#### `/addcmd [أمر] [رد]`
**الوصف:** إضافة أمر مخصص

**الاستخدام:**
```
/addcmd info_group هذه مجموعة تقنية متخصصة في البرمجة
```

---

#### `/delcmd [أمر]`
**الوصف:** حذف أمر مخصص

**الاستخدام:**
```
/delcmd info_group
```

---

#### `/commands`
**الوصف:** عرض قائمة الأوامر المخصصة

**الاستخدام:**
```
/commands
```

## 🔗 التكامل مع الخدمات الخارجية

### ربط القنوات

#### `/connect [معرف القناة]`
**الوصف:** ربط قناة بالمجموعة لمشاركة المحتوى

**الاستخدام:**
```
/connect @my_channel
```

---

#### `/disconnect [معرف القناة]`
**الوصف:** إلغاء ربط قناة

**الاستخدام:**
```
/disconnect @my_channel
```

### النسخ الاحتياطي

#### `/backup`
**الوصف:** إنشاء نسخة احتياطية من بيانات المجموعة

**الاستخدام:**
```
/backup
```

**الاستجابة:** ملف JSON يحتوي على:
- إعدادات المجموعة
- قائمة الأعضاء
- الملاحظات والأوامر المخصصة
- الإحصائيات

---

#### `/restore [ملف]`
**الوصف:** استعادة بيانات من نسخة احتياطية

**الاستخدام:**
```
/restore
# ثم إرفاق ملف النسخة الاحتياطية
```

### تصدير البيانات

#### `/export [نوع]`
**الوصف:** تصدير بيانات المجموعة

**الاستخدام:**
```
/export members
/export messages
/export analytics
```

**الأنواع المتاحة:**
- `members` - قائمة الأعضاء
- `messages` - الرسائل الحديثة
- `analytics` - الإحصائيات
- `all` - جميع البيانات

## 📊 واجهة الإدارة التفاعلية

### الأزرار التفاعلية

عند استخدام `/settings`، ستظهر لوحة تحكم تفاعلية مع الأقسام التالية:

#### 👥 إدارة الأعضاء
- **قائمة الأعضاء** - عرض جميع الأعضاء مع معلوماتهم
- **المشرفون** - إدارة المشرفين وصلاحياتهم
- **المحظورون** - عرض وإدارة الأعضاء المحظورين
- **المكتومون** - عرض وإدارة الأعضاء المكتومين
- **التحذيرات** - عرض وإدارة تحذيرات الأعضاء
- **النقاط والمكافآت** - نظام النقاط والمكافآت

#### 🛡️ إعدادات الحماية
- **مكافحة السبام** - تفعيل/إلغاء تفعيل
- **فلترة الكلمات النابية** - إدارة قائمة الكلمات المحظورة
- **فلترة الروابط** - التحكم في الروابط المسموحة
- **فلترة الوسائط** - التحكم في أنواع الوسائط
- **حماية الفيضان** - منع إرسال رسائل متتالية
- **فلترة الملصقات** - التحكم في الملصقات

#### 🤖 الذكاء الاصطناعي
- **الذكاء الاصطناعي العام** - تفعيل/إلغاء تفعيل
- **الردود التلقائية** - إدارة الردود الذكية
- **تحليل المشاعر** - تحليل مشاعر الرسائل
- **اقتراح المحتوى** - اقتراحات ذكية للمحتوى
- **حل النزاعات** - المساعدة في حل المشاكل
- **الإشراف الذكي** - إشراف تلقائي بالذكاء الاصطناعي

#### 📝 الرسائل والمحتوى
- **رسالة الترحيب** - تخصيص رسالة الترحيب
- **قواعد المجموعة** - إدارة قواعد المجموعة
- **الردود التلقائية** - إدارة الردود على كلمات معينة
- **الرسائل المجدولة** - جدولة الرسائل
- **الاستبيانات** - إنشاء وإدارة الاستبيانات
- **الأوامر المخصصة** - إضافة أوامر مخصصة

#### 📊 الإحصائيات والتحليلات
- **إحصائيات عامة** - نظرة عامة على نشاط المجموعة
- **إحصائيات الأعضاء** - تفاصيل نشاط الأعضاء
- **إحصائيات الرسائل** - تحليل الرسائل والمحتوى
- **تقارير مفصلة** - تقارير شاملة عن الأداء
- **تصدير البيانات** - تصدير الإحصائيات

## 🔧 API للمطورين

### استخدام البوت برمجياً

يمكن للمطورين التفاعل مع البوت من خلال:

#### 1. Webhook API
```python
import requests

# إرسال أمر للبوت
response = requests.post('https://api.telegram.org/bot<TOKEN>/sendMessage', {
    'chat_id': 'CHAT_ID',
    'text': '/stats'
})
```

#### 2. تكامل مع بوتات أخرى
```python
from telegram.ext import Application

# إضافة معالج مخصص
async def custom_handler(update, context):
    # منطق مخصص
    pass

app.add_handler(MessageHandler(filters.TEXT, custom_handler))
```

#### 3. استخدام قاعدة البيانات
```python
from bot.database.database import user_repo, group_repo

# الحصول على معلومات مستخدم
user = user_repo.get_user_by_id(user_id)

# الحصول على إعدادات مجموعة
settings = group_repo.get_group_settings(chat_id)
```

## 📋 رموز الاستجابة

### رموز النجاح
- ✅ - تم تنفيذ الأمر بنجاح
- 🎉 - تم إكمال عملية مهمة
- 📊 - تم عرض إحصائيات
- 💾 - تم حفظ البيانات

### رموز التحذير
- ⚠️ - تحذير أو تنبيه
- 🔄 - جاري المعالجة
- ⏳ - انتظار إدخال المستخدم
- 💡 - نصيحة أو اقتراح

### رموز الخطأ
- ❌ - فشل في تنفيذ الأمر
- 🚫 - غير مسموح أو محظور
- ⛔ - خطأ في الصلاحيات
- 🔒 - مطلوب صلاحيات إضافية

## 🔍 أمثلة الاستخدام

### سيناريو 1: إعداد مجموعة جديدة
```
1. إضافة البوت للمجموعة
2. /start
3. /setup
4. اتباع المعالج التفاعلي
5. /welcome مرحباً {name}! اقرأ /rules
6. /setrules قواعد المجموعة هنا
```

### سيناريو 2: إدارة عضو مشاغب
```
1. /warn @username مخالفة القواعد
2. /mute @username 30
3. إذا تكرر: /ban @username 1440 سلوك غير مناسب
```

### سيناريو 3: تحليل نشاط المجموعة
```
1. /stats
2. /settings → الإحصائيات
3. /export analytics
4. /summarize 100
```

---

**هذا التوثيق يغطي جميع الوظائف المتاحة في بوت تيكنو. للحصول على مساعدة إضافية، استخدم `/help` أو تواصل مع الدعم.**

